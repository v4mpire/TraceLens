(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{6397:function(e,t,r){Promise.resolve().then(r.bind(r,3608))},3608:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return h}});var a=r(7573),s=r(7653),n=r(7015),i=r(6738),l=r(4331),c=r(1697),d=r(4874);function o(e){let{data:t,width:r=600,height:n=300,metric:i}=e,l=(0,s.useRef)(null);return(0,s.useEffect)(()=>{var e;if(!l.current||!t.length)return;let a=d.Ys(l.current);a.selectAll("*").remove();let s={top:20,right:30,bottom:40,left:50},c=r-s.left-s.right,o=n-s.top-s.bottom,u=a.append("g").attr("transform","translate(".concat(s.left,",").concat(s.top,")")),m=d.Xf().domain(d.Wem(t,e=>new Date(e.timestamp))).range([0,c]),x=d.BYU().domain([0,d.Fp7(t,e=>e.value)||0]).range([o,0]),h=d.jvg().x(e=>m(new Date(e.timestamp))).y(e=>x(e.value)).curve(d.FdL);u.append("g").attr("transform","translate(0,".concat(o,")")).call(d.LLu(m).tickFormat(d.i$Z("%H:%M"))),u.append("g").call(d.y4O(x)),u.append("path").datum(t).attr("fill","none").attr("stroke","#3b82f6").attr("stroke-width",2).attr("d",h),u.selectAll(".dot").data(t).enter().append("circle").attr("class","dot").attr("cx",e=>m(new Date(e.timestamp))).attr("cy",e=>x(e.value)).attr("r",3).attr("fill","#3b82f6");let f=null===(e=t[0])||void 0===e?void 0:e.threshold;f&&u.append("line").attr("x1",0).attr("x2",c).attr("y1",x(f)).attr("y2",x(f)).attr("stroke","#ef4444").attr("stroke-dasharray","5,5").attr("stroke-width",2),u.append("text").attr("transform","rotate(-90)").attr("y",0-s.left).attr("x",0-o/2).attr("dy","1em").style("text-anchor","middle").text(i)},[t,r,n,i]),(0,a.jsx)("svg",{ref:l,width:r,height:n,className:"border border-gray-200 rounded-lg"})}let u=[{id:"1",name:"Frontend",type:"service",duration:120,critical:!0},{id:"2",name:"API Gateway",type:"service",duration:45},{id:"3",name:"User Service",type:"service",duration:230,critical:!0},{id:"4",name:"Database",type:"database",duration:180},{id:"5",name:"Cache",type:"database",duration:15},{id:"6",name:"External API",type:"external",duration:340,critical:!0}],m=[{source:"1",target:"2",duration:45},{source:"2",target:"3",duration:230},{source:"3",target:"4",duration:180},{source:"3",target:"5",duration:15},{source:"3",target:"6",duration:340}],x=[{timestamp:Date.now()-3e5,metric:"Response Time",value:120,threshold:200},{timestamp:Date.now()-24e4,metric:"Response Time",value:145,threshold:200},{timestamp:Date.now()-18e4,metric:"Response Time",value:98,threshold:200},{timestamp:Date.now()-12e4,metric:"Response Time",value:167,threshold:200},{timestamp:Date.now()-6e4,metric:"Response Time",value:134,threshold:200},{timestamp:Date.now(),metric:"Response Time",value:156,threshold:200}];function h(){let[e,t]=(0,s.useState)(!0);return((0,s.useEffect)(()=>{let e=setTimeout(()=>t(!1),1e3);return()=>clearTimeout(e)},[]),e)?(0,a.jsx)(n.Z,{children:(0,a.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,a.jsx)(l.Z,{size:"lg"})})}):(0,a.jsx)(n.Z,{children:(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),(0,a.jsx)("p",{className:"text-gray-600 mt-2",children:"Runtime performance and dependency analysis"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,a.jsxs)(i.Z,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:"156ms"}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Avg Response Time"})]}),(0,a.jsxs)(i.Z,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-green-600",children:"99.2%"}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Uptime"})]}),(0,a.jsxs)(i.Z,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:"3"}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Critical Path Nodes"})]}),(0,a.jsxs)(i.Z,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-red-600",children:"2"}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Active Security Risks"})]})]}),(0,a.jsx)(i.Z,{title:"Dependency Graph",children:(0,a.jsx)(c.Z,{nodes:u,links:m,width:800,height:400})}),(0,a.jsx)(i.Z,{title:"Performance Metrics",children:(0,a.jsx)(o,{data:x,metric:"Response Time (ms)",width:800,height:300})})]})})}},1697:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var a=r(7573),s=r(7653),n=r(4874);function i(e){let{nodes:t,links:r,width:i=800,height:l=600}=e,c=(0,s.useRef)(null),[d,o]=(0,s.useState)(null);return(0,s.useEffect)(()=>{if(!c.current||!t.length)return;let e=n.Ys(c.current);e.selectAll("*").remove();let a=n.A4v(t).force("link",n.Fsl(r).id(e=>e.id).distance(100)).force("charge",n.q5i().strength(-300)).force("center",n.wqt(i/2,l/2)),s=e.append("g").selectAll("line").data(r).enter().append("line").attr("stroke","#999").attr("stroke-opacity",.6).attr("stroke-width",e=>Math.sqrt(e.duration/10)),d=e.append("g").selectAll("circle").data(t).enter().append("circle").attr("r",e=>e.critical?12:8).attr("fill",e=>{switch(e.type){case"service":return e.critical?"#ef4444":"#3b82f6";case"database":return"#10b981";case"external":return"#f59e0b";case"function":return"#8b5cf6";default:return"#6b7280"}}).style("cursor","pointer").on("click",(e,t)=>o(t)).call(n.ohM().on("start",(e,t)=>{e.active||a.alphaTarget(.3).restart(),t.fx=t.x,t.fy=t.y}).on("drag",(e,t)=>{t.fx=e.x,t.fy=e.y}).on("end",(e,t)=>{e.active||a.alphaTarget(0),t.fx=null,t.fy=null})),u=e.append("g").selectAll("text").data(t).enter().append("text").text(e=>e.name).attr("font-size",12).attr("dx",15).attr("dy",4);return a.on("tick",()=>{s.attr("x1",e=>e.source.x).attr("y1",e=>e.source.y).attr("x2",e=>e.target.x).attr("y2",e=>e.target.y),d.attr("cx",e=>e.x).attr("cy",e=>e.y),u.attr("x",e=>e.x).attr("y",e=>e.y)}),()=>{a.stop()}},[t,r,i,l]),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("svg",{ref:c,width:i,height:l,className:"border border-gray-200 rounded-lg"}),d&&(0,a.jsxs)("div",{className:"absolute top-4 right-4 bg-white p-4 rounded-lg shadow-lg border",children:[(0,a.jsx)("h4",{className:"font-semibold",children:d.name}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Type: ",d.type]}),d.duration&&(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Duration: ",d.duration,"ms"]}),d.critical&&(0,a.jsx)("span",{className:"inline-block mt-2 px-2 py-1 bg-red-100 text-red-800 text-xs rounded",children:"Critical Path"})]})]})}},7015:function(e,t,r){"use strict";r.d(t,{Z:function(){return c}});var a=r(7573),s=r(8146),n=r(1695);let i=[{name:"Dashboard",href:"/dashboard",icon:"\uD83D\uDCCA"},{name:"Traces",href:"/traces",icon:"\uD83D\uDD0D"},{name:"Security",href:"/security",icon:"\uD83D\uDEE1ï¸"}];function l(){let e=(0,n.usePathname)();return(0,a.jsxs)("div",{className:"w-64 bg-gray-900 text-white h-full",children:[(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsx)("h1",{className:"text-xl font-bold",children:"TraceLens"}),(0,a.jsx)("p",{className:"text-gray-400 text-sm mt-1",children:"Runtime Truth Engine"})]}),(0,a.jsx)("nav",{className:"mt-8",children:i.map(t=>{let r=null==e?void 0:e.startsWith(t.href);return(0,a.jsxs)(s.default,{href:t.href,className:"flex items-center px-6 py-3 text-sm font-medium transition-colors ".concat(r?"bg-blue-600 text-white":"text-gray-300 hover:bg-gray-800 hover:text-white"),children:[(0,a.jsx)("span",{className:"mr-3",children:t.icon}),t.name]},t.name)})})]})}function c(e){let{children:t}=e;return(0,a.jsxs)("div",{className:"flex h-screen bg-gray-50",children:[(0,a.jsx)(l,{}),(0,a.jsx)("main",{className:"flex-1 overflow-auto",children:(0,a.jsx)("div",{className:"p-8",children:t})})]})}},6738:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var a=r(7573);function s(e){let{title:t,children:r,className:s=""}=e;return(0,a.jsxs)("div",{className:"card ".concat(s),children:[t&&(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:t}),r]})}},4331:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var a=r(7573);function s(e){let{size:t="md",className:r=""}=e;return(0,a.jsx)("div",{className:"animate-spin rounded-full border-2 border-gray-300 border-t-blue-600 ".concat({sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12"}[t]," ").concat(r)})}}},function(e){e.O(0,[340,834,293,528,744],function(){return e(e.s=6397)}),_N_E=e.O()}]);