(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{6397:function(e,t,s){Promise.resolve().then(s.bind(s,4372))},4372:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return j}});var r=s(7573),a=s(7653),n=s(2389);let i=(0,n.Z)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),l=(0,n.Z)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]),c=(0,n.Z)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);var d=s(6548),o=s(3536),m=s(6738),u=s(4331),x=s(1697),h=s(4874);function f(e){let{data:t,width:s=600,height:n=300,metric:i}=e,l=(0,a.useRef)(null);return(0,a.useEffect)(()=>{var e;if(!l.current||!t.length)return;let r=h.Ys(l.current);r.selectAll("*").remove();let a={top:20,right:30,bottom:40,left:50},c=s-a.left-a.right,d=n-a.top-a.bottom,o=r.append("g").attr("transform","translate(".concat(a.left,",").concat(a.top,")")),m=h.Xf().domain(h.Wem(t,e=>new Date(e.timestamp))).range([0,c]),u=h.BYU().domain([0,h.Fp7(t,e=>e.value)||0]).range([d,0]),x=h.jvg().x(e=>m(new Date(e.timestamp))).y(e=>u(e.value)).curve(h.FdL);o.append("g").attr("transform","translate(0,".concat(d,")")).call(h.LLu(m).tickFormat(h.i$Z("%H:%M"))),o.append("g").call(h.y4O(u)),o.append("path").datum(t).attr("fill","none").attr("stroke","#3b82f6").attr("stroke-width",2).attr("d",x),o.selectAll(".dot").data(t).enter().append("circle").attr("class","dot").attr("cx",e=>m(new Date(e.timestamp))).attr("cy",e=>u(e.value)).attr("r",3).attr("fill","#3b82f6");let f=null===(e=t[0])||void 0===e?void 0:e.threshold;f&&o.append("line").attr("x1",0).attr("x2",c).attr("y1",u(f)).attr("y2",u(f)).attr("stroke","#ef4444").attr("stroke-dasharray","5,5").attr("stroke-width",2),o.append("text").attr("transform","rotate(-90)").attr("y",0-a.left).attr("x",0-d/2).attr("dy","1em").style("text-anchor","middle").text(i)},[t,s,n,i]),(0,r.jsx)("svg",{ref:l,width:s,height:n,className:"border border-gray-200 rounded-lg"})}let p=[{id:"1",name:"Frontend",type:"service",duration:120,critical:!0},{id:"2",name:"API Gateway",type:"service",duration:45},{id:"3",name:"User Service",type:"service",duration:230,critical:!0},{id:"4",name:"Database",type:"database",duration:180},{id:"5",name:"Cache",type:"database",duration:15},{id:"6",name:"External API",type:"external",duration:340,critical:!0}],g=[{source:"1",target:"2",duration:45},{source:"2",target:"3",duration:230},{source:"3",target:"4",duration:180},{source:"3",target:"5",duration:15},{source:"3",target:"6",duration:340}],v=[{timestamp:Date.now()-3e5,metric:"Response Time",value:120,threshold:200},{timestamp:Date.now()-24e4,metric:"Response Time",value:145,threshold:200},{timestamp:Date.now()-18e4,metric:"Response Time",value:98,threshold:200},{timestamp:Date.now()-12e4,metric:"Response Time",value:167,threshold:200},{timestamp:Date.now()-6e4,metric:"Response Time",value:134,threshold:200},{timestamp:Date.now(),metric:"Response Time",value:156,threshold:200}];function j(){let[e,t]=(0,a.useState)(!0);return((0,a.useEffect)(()=>{let e=setTimeout(()=>t(!1),1e3);return()=>clearTimeout(e)},[]),e)?(0,r.jsx)(o.Z,{children:(0,r.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,r.jsx)(u.Z,{size:"lg"})})}):(0,r.jsx)(o.Z,{children:(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Dashboard"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Runtime performance and dependency analysis overview"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,r.jsxs)(m.Z,{className:"relative overflow-hidden",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(i,{className:"h-5 w-5 text-primary"}),(0,r.jsx)("div",{className:"text-sm font-medium text-muted-foreground",children:"Avg Response Time"})]}),(0,r.jsx)("div",{className:"text-2xl font-bold mt-2",children:"156ms"}),(0,r.jsxs)("div",{className:"text-xs text-muted-foreground mt-1",children:[(0,r.jsx)("span",{className:"text-green-600",children:"↓ 12ms"})," from last hour"]})]}),(0,r.jsxs)(m.Z,{className:"relative overflow-hidden",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(l,{className:"h-5 w-5 text-green-600"}),(0,r.jsx)("div",{className:"text-sm font-medium text-muted-foreground",children:"Uptime"})]}),(0,r.jsx)("div",{className:"text-2xl font-bold mt-2",children:"99.2%"}),(0,r.jsxs)("div",{className:"text-xs text-muted-foreground mt-1",children:[(0,r.jsx)("span",{className:"text-green-600",children:"↑ 0.1%"})," from yesterday"]})]}),(0,r.jsxs)(m.Z,{className:"relative overflow-hidden",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(c,{className:"h-5 w-5 text-orange-600"}),(0,r.jsx)("div",{className:"text-sm font-medium text-muted-foreground",children:"Critical Path Nodes"})]}),(0,r.jsx)("div",{className:"text-2xl font-bold mt-2",children:"3"}),(0,r.jsx)("div",{className:"text-xs text-muted-foreground mt-1",children:"Requires optimization"})]}),(0,r.jsxs)(m.Z,{className:"relative overflow-hidden",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(d.Z,{className:"h-5 w-5 text-red-600"}),(0,r.jsx)("div",{className:"text-sm font-medium text-muted-foreground",children:"Security Risks"})]}),(0,r.jsx)("div",{className:"text-2xl font-bold mt-2",children:"2"}),(0,r.jsxs)("div",{className:"text-xs text-muted-foreground mt-1",children:[(0,r.jsx)("span",{className:"text-red-600",children:"High priority"})," vulnerabilities"]})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,r.jsx)(m.Z,{title:"Dependency Graph",description:"Real-time visualization of service dependencies and critical paths",className:"lg:col-span-2",children:(0,r.jsx)(x.Z,{nodes:p,links:g,width:800,height:400})}),(0,r.jsx)(m.Z,{title:"Performance Metrics",description:"Response time trends and threshold monitoring",className:"lg:col-span-2",children:(0,r.jsx)(f,{data:v,metric:"Response Time (ms)",width:800,height:300})})]})]})})}},1697:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});var r=s(7573),a=s(7653),n=s(4874);function i(e){let{nodes:t,links:s,width:i=800,height:l=600}=e,c=(0,a.useRef)(null),[d,o]=(0,a.useState)(null);return(0,a.useEffect)(()=>{if(!c.current||!t.length)return;let e=n.Ys(c.current);e.selectAll("*").remove();let r=n.A4v(t).force("link",n.Fsl(s).id(e=>e.id).distance(100)).force("charge",n.q5i().strength(-300)).force("center",n.wqt(i/2,l/2)),a=e.append("g").selectAll("line").data(s).enter().append("line").attr("stroke","#999").attr("stroke-opacity",.6).attr("stroke-width",e=>Math.sqrt(e.duration/10)),d=e.append("g").selectAll("circle").data(t).enter().append("circle").attr("r",e=>e.critical?12:8).attr("fill",e=>{switch(e.type){case"service":return e.critical?"#ef4444":"#3b82f6";case"database":return"#10b981";case"external":return"#f59e0b";case"function":return"#8b5cf6";default:return"#6b7280"}}).style("cursor","pointer").on("click",(e,t)=>o(t)).call(n.ohM().on("start",(e,t)=>{e.active||r.alphaTarget(.3).restart(),t.fx=t.x,t.fy=t.y}).on("drag",(e,t)=>{t.fx=e.x,t.fy=e.y}).on("end",(e,t)=>{e.active||r.alphaTarget(0),t.fx=null,t.fy=null})),m=e.append("g").selectAll("text").data(t).enter().append("text").text(e=>e.name).attr("font-size",12).attr("dx",15).attr("dy",4);return r.on("tick",()=>{a.attr("x1",e=>e.source.x).attr("y1",e=>e.source.y).attr("x2",e=>e.target.x).attr("y2",e=>e.target.y),d.attr("cx",e=>e.x).attr("cy",e=>e.y),m.attr("x",e=>e.x).attr("y",e=>e.y)}),()=>{r.stop()}},[t,s,i,l]),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("svg",{ref:c,width:i,height:l,className:"border border-gray-200 rounded-lg"}),d&&(0,r.jsxs)("div",{className:"absolute top-4 right-4 bg-white p-4 rounded-lg shadow-lg border",children:[(0,r.jsx)("h4",{className:"font-semibold",children:d.name}),(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:["Type: ",d.type]}),d.duration&&(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:["Duration: ",d.duration,"ms"]}),d.critical&&(0,r.jsx)("span",{className:"inline-block mt-2 px-2 py-1 bg-red-100 text-red-800 text-xs rounded",children:"Critical Path"})]})]})}},3536:function(e,t,s){"use strict";s.d(t,{Z:function(){return j}});var r=s(7573),a=s(8146),n=s(1695),i=s(5453),l=s(9790),c=s(3025),d=s(6548),o=s(269),m=s(6438),u=s(7653),x=s(950),h=s(8846),f=s(5643);function p(){let{theme:e,setTheme:t}=(0,f.F)();return(0,r.jsxs)("button",{onClick:()=>t("light"===e?"dark":"light"),className:"inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground h-9 w-9",children:[(0,r.jsx)(x.Z,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),(0,r.jsx)(h.Z,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),(0,r.jsx)("span",{className:"sr-only",children:"Toggle theme"})]})}let g=[{name:"Dashboard",href:"/dashboard",icon:i.Z},{name:"Traces",href:"/traces",icon:l.Z},{name:"Performance",href:"/performance",icon:c.Z},{name:"Security",href:"/security",icon:d.Z}];function v(){let e=(0,n.usePathname)(),[t,s]=(0,u.useState)(!1);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"lg:hidden fixed top-4 left-4 z-50",children:(0,r.jsx)("button",{onClick:()=>s(!t),className:"inline-flex items-center justify-center p-2 rounded-md text-foreground hover:bg-accent focus:outline-none focus:ring-2 focus:ring-ring",children:t?(0,r.jsx)(o.Z,{className:"h-6 w-6"}):(0,r.jsx)(m.Z,{className:"h-6 w-6"})})}),(0,r.jsx)("div",{className:"\n        fixed inset-y-0 left-0 z-40 w-64 bg-card border-r transform transition-transform duration-200 ease-in-out\n        ".concat(t?"translate-x-0":"-translate-x-full","\n        lg:translate-x-0 lg:static lg:inset-0\n      "),children:(0,r.jsxs)("div",{className:"flex flex-col h-full",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between h-16 px-6 border-b",children:[(0,r.jsxs)(a.default,{href:"/",className:"flex items-center space-x-2",children:[(0,r.jsx)("div",{className:"w-8 h-8 bg-primary rounded-lg flex items-center justify-center",children:(0,r.jsx)(l.Z,{className:"h-5 w-5 text-primary-foreground"})}),(0,r.jsx)("span",{className:"text-lg font-semibold",children:"TraceLens"})]}),(0,r.jsx)(p,{})]}),(0,r.jsx)("nav",{className:"flex-1 px-4 py-6 space-y-2",children:g.map(t=>{let n=e===t.href;return(0,r.jsxs)(a.default,{href:t.href,className:"sidebar-nav-item ".concat(n?"active":""),onClick:()=>s(!1),children:[(0,r.jsx)(t.icon,{className:"h-5 w-5 mr-3"}),t.name]},t.name)})}),(0,r.jsx)("div",{className:"p-4 border-t",children:(0,r.jsxs)("div",{className:"text-xs text-muted-foreground",children:[(0,r.jsx)("p",{children:"Runtime Truth Engine"}),(0,r.jsx)("p",{className:"mt-1",children:"v1.0.0"})]})})]})}),t&&(0,r.jsx)("div",{className:"fixed inset-0 z-30 bg-background/80 backdrop-blur-sm lg:hidden",onClick:()=>s(!1)})]})}function j(e){let{children:t}=e;return(0,r.jsxs)("div",{className:"flex h-screen bg-background",children:[(0,r.jsx)(v,{}),(0,r.jsx)("main",{className:"flex-1 overflow-auto",children:(0,r.jsx)("div",{className:"p-6 lg:p-8",children:t})})]})}},5643:function(e,t,s){"use strict";s.d(t,{F:function(){return l},ThemeProvider:function(){return i}});var r=s(7573),a=s(7653);let n=(0,a.createContext)({theme:"system",setTheme:()=>null});function i(e){let{children:t,defaultTheme:s="system",storageKey:i="tracelens-ui-theme",...l}=e,[c,d]=(0,a.useState)(s);return(0,a.useEffect)(()=>{let e=localStorage.getItem(i);e&&d(e)},[i]),(0,a.useEffect)(()=>{let e=window.document.documentElement;if(e.classList.remove("light","dark"),"system"===c){let t=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";e.classList.add(t);return}e.classList.add(c)},[c]),(0,r.jsx)(n.Provider,{...l,value:{theme:c,setTheme:e=>{localStorage.setItem(i,e),d(e)}},children:t})}let l=()=>{let e=(0,a.useContext)(n);if(void 0===e)throw Error("useTheme must be used within a ThemeProvider");return e}},6738:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});var r=s(7573);function a(e){let{title:t,children:s,className:a="",description:n}=e;return(0,r.jsxs)("div",{className:"card ".concat(a),children:[(t||n)&&(0,r.jsxs)("div",{className:"mb-4",children:[t&&(0,r.jsx)("h3",{className:"text-lg font-semibold",children:t}),n&&(0,r.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:n})]}),s]})}},4331:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});var r=s(7573),a=s(5721);function n(e){let{size:t="md",className:s=""}=e;return(0,r.jsx)("div",{className:"flex items-center justify-center ".concat(s),children:(0,r.jsx)(a.Z,{className:"animate-spin text-muted-foreground ".concat({sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8"}[t])})})}}},function(e){e.O(0,[340,483,293,528,744],function(){return e(e.s=6397)}),_N_E=e.O()}]);